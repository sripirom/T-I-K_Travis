version: 1.0.{build}
skip_tags: true
image: Visual Studio 2017
before_build:
- cmd: dotnet restore
- cmd: choco install "msbuild-sonarqube-runner" -y
- cmd: MSBuild.SonarQube.Runner.exe begin /k:"tik_travis-master" /n:"Tik.Travis" /v:"1.0.0" /d:sonar.host.url=https://sonarqube.com /d:sonar.login=%SONAR_TOKEN% /d:"sonar.organization=sripirom-github"
build:
  verbosity: minimal
after_build:
- cmd: MSBuild.SonarQube.Runner.exe end /d:sonar.login=%SONAR_TOKEN%
test_script:
- cmd: dotnet test .\app\Tik.Travis.Lib.Tests\Tik.Travis.Lib.Tests.csproj
skip_commits:
  files:
    - '**/*.md'
    - '**/*.txt'
    - '**/*.yml'